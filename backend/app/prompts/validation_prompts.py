"""Validation prompts for Claude AI"""


def get_validation_prompt(label_text: str) -> str:
    """
    Get prompt for label validation
    
    Args:
        label_text: Text of the pharmaceutical label
        
    Returns:
        Formatted validation prompt
    """
    return f"""
Проаналізуйте наступну етикетку фармацевтичного препарату:

{label_text}

Виконайте перевірку за такими критеріями:

1. ОБОВ'ЯЗКОВІ ПОЛЯ:
   - Назва препарату
   - МНН (міжнародна непатентована назва)
   - Виробник та країна виробництва
   - Склад (активні та допоміжні речовини)
   - Лікарська форма
   - Дозування
   - Показання до застосування
   - Протипоказання
   - Побічні ефекти
   - Спосіб застосування
   - Термін придатності
   - Умови зберігання
   - Номер серії
   - Реєстраційний номер

2. ВІДПОВІДНІСТЬ ЗАКОНОДАВСТВУ:
   - Відповідність Закону України "Про лікарські засоби"
   - Відповідність наказам МОЗ
   - Правильність термінології

3. ЯКІСТЬ ІНФОРМАЦІЇ:
   - Чіткість та зрозумілість
   - Відсутність суперечностей
   - Повнота інформації
   - Точність дозувань

4. БЕЗПЕКА:
   - Наявність застережень
   - Інформація про взаємодії
   - Вказівки для особливих груп

Надайте результат у форматі JSON:
{{
    "is_valid": boolean,
    "score": number (0-100),
    "errors": [
        {{
            "field": "назва поля",
            "message": "опис помилки",
            "severity": "error"|"warning"|"info",
            "code": "ERR_CODE"
        }}
    ],
    "warnings": [...],
    "suggestions": [...]
}}
"""


def get_ingredient_validation_prompt(ingredients: list) -> str:
    """Get prompt for ingredient validation"""
    return f"""
Перевірте правильність складу препарату:

{ingredients}

Критерії перевірки:
1. Правильність назв речовин (МНН)
2. Відповідність дозувань
3. Наявність допустимих допоміжних речовин
4. Відсутність заборонених речовин
5. Правильність одиниць вимірювання

Надайте детальний аналіз кожного інгредієнта.
"""


def get_dosage_validation_prompt(dosage_info: dict) -> str:
    """Get prompt for dosage validation"""
    return f"""
Перевірте правильність інформації про дозування:

{dosage_info}

Оцініть:
1. Безпечність доз
2. Відповідність стандартам
3. Чіткість інструкцій
4. Врахування особливих груп (діти, вагітні, літні)
5. Інформацію про передозування

Виявіть потенційні ризики та надайте рекомендації.
"""


def get_warning_validation_prompt(warnings: list) -> str:
    """Get prompt for warnings validation"""
    return f"""
Перевірте достатність та правильність застережень:

{warnings}

Перевірте наявність інформації про:
1. Протипоказання
2. Побічні ефекти
3. Взаємодії з іншими препаратами
4. Особливі застереження
5. Вплив на здатність керувати транспортом
6. Застосування при вагітності та лактації

Оцініть повноту та актуальність застережень.
"""

